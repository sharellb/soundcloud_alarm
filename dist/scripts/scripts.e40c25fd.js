"use strict";angular.module("alarmApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.sortable","LocalStorageModule"]).config(["localStorageServiceProvider",function(a){a.setPrefix("ls")}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("alarmApp").controller("MainCtrl",["$scope","$filter","localStorageService",function(a,b,c){var d=c.get("todos");a.todos=d||[],a.$watch("todos",function(){c.set("todos",a.todos)},!0),a.addTodo=function(){a.todos.push(a.todo),a.todo=""},a.removeTodo=function(b){a.todos.splice(b,1)},a.init=function(){SC.initialize({client_id:ENV.CLIENT_ID})},a.stream_url="/tracks/297",a.startSong=function(b){console.log(b),SC.stream(b,function(b){a.sound=b,b.play(),a.isStreaming=!0})},a.stopSong=function(a){a.pause()};var e=function(){a.clock.now!==a.alarm||a.isStreaming||a.startSong(a.stream_url)};a.trackSearch="Search",a.tracks=[];var f=10;a.search=function(){SC.get("/tracks",{q:a.trackSearch,streamable:!0,limit:f},function(b){a.tracks=b})},a.nowPlaying="",a.chooseTrack=function(b){var c=b.uri.indexOf("/tracks");a.stream_url=b.uri.slice(c,b.uri.length),a.nowPlaying=b.title},a.timeOfDay="",a.alarm="12:00 PM",a.clock={clock:new Date};var g=function(){a.dayTime=b("date")(new Date,"a"),a.timeOfDay="PM"===a.dayTime?"How is your day?":"Good Morning!"},h=function(){a.clock.now=b("date")(new Date,"shortTime")};setInterval(function(){a.$apply(h),a.$apply(e),a.$apply(g)},1e3)}]),angular.module("alarmApp").directive("myCurrentTime",["dateFilter",function(a){return function(b,c,d){function e(){var b=a(new Date,g);c.text(b)}function f(){setTimeout(function(){e(),f()},1e3)}var g;b.$watch(d.myCurrentTime,function(a){g=a,e()}),f()}}]);